# Getting Started

### Перед запуском приложения необходимо выполнить миграцию базы данных.
С помощью консоли можно выполнить миграцию базы данных:
```
    mvn flyway:migrate
```

Метод POST /create создает новую ссылку и возвращает ее в ответе.
Опциональный header X-User-Uuid уникальный идентификатор пользователя. Если не указать header, то пользователь получит новый uuid. 
Пример тела запроса:
```
{
    "url": "https://example.com",
    "countRedirect": 10,
}
```

Метод POST /update обновляет количество переходов по короткой ссылке
Обязательный header X-User-Uuid уникальный идентификатор пользователя.
Пример тела запроса:
```
{
    "short_url": "clck.ru/AavIuQ",
    "countRedirect": 10
}
```
Метод GET /clck.ru/{alias} возвращает URL по короткой ссылке и делает редирект на этот URL
Обязательный header X-User-Uuid уникальный идентификатор пользователя.

### В сервисе есть scheduler LinksRefresher на удаление устаревших ссылок. Запускается каждые 60 секунд.
